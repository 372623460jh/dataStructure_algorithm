# 正则表达式

## 1.正则表达式的两种创建方式
- 正则表达式字面量方式
```javascript
//第一种字面量创建方式（编译时创建）
var regex = /abc/; 
```
- 对象方式创建
```javascript
 //对象方式创建（执行时创建）
var regex1 = new RegExp('abc');
```

## 2.正则表达式的修饰符
```javascript
//igm是修饰符
var r = /abc/igm;
```
- i修饰符
> 默认情况下，正则对象区分字母的大小写，加上i修饰符以后表示忽略大小写（ignorecase）。

- g修饰符
> 默认情况下，第一次匹配成功后，正则对象就停止向下匹配了。g修饰符表示全局匹配（global），加上它以后，正则对象将匹配全部符合条件的结果，主要用于搜索和替换。
```javascript
var regex = /x/g; //有g修饰符
var ss = 'x_x_x_x_';
console.log(regex.lastIndex) //输出当前从哪一位开始检索 0
console.log(regex.test(ss)); //检索结果 true
console.log(regex.lastIndex) //输出当前从哪一位开始检索 1
console.log(regex.test(ss)); //检索结果 true
console.log(regex.lastIndex) //输出当前从哪一位开始检索 3
console.log(regex.test(ss)); //检索结果 true
console.log(regex.lastIndex) //输出当前从哪一位开始检索 5
console.log(regex.test(ss)); //检索结果 true
console.log(regex.lastIndex) //输出当前从哪一位开始检索 7
console.log(regex.test(ss)); //检索结果 false

var regex = /x/; //无g修饰符
var ss = 'x_x_x_x_';
console.log(regex.lastIndex) //输出当前从哪一位开始检索 0
console.log(regex.test(ss)); //检索结果 true
console.log(regex.lastIndex) //输出当前从哪一位开始检索 0
console.log(regex.test(ss)); //检索结果 true
console.log(regex.lastIndex) //输出当前从哪一位开始检索 0
console.log(regex.test(ss)); //检索结果 true
console.log(regex.lastIndex) //输出当前从哪一位开始检索 0
console.log(regex.test(ss)); //检索结果 true
console.log(regex.lastIndex) //输出当前从哪一位开始检索 0
console.log(regex.test(ss)); //检索结果 true
```
> 带有g修饰符时，可以通过正则对象的lastIndex属性指定开始搜索的位置。
```javascript
//修饰符g下可以修改lastIndex
var regex = /x/g;
var ss = 'x_x_x_x_'
regex.lastIndex = 7;//从第七个开始寻找
console.log(regex.test(ss));//查找不到false
```

- m修饰符
> 表示多行模式（multiline），会修改^和$的行为。默认情况下（即不加m修饰符时），^和$匹配字符串的开始处和结尾处，加上m修饰符以后，^和$还会匹配行首和行尾，即^和$会识别换行符（\n）。

### 2.1 每个修饰符都对应相应的属性

```javascript
regex.ignoreCase; //是否忽略大小写
regex.lastIndex // 正则对象的lastIndex属性不仅可读，还可写。一旦手动设置了lastIndex的值，就会从指定位置开始匹配。但是，这只在设置了g修饰符的情况下，才会有效。
regex.source // "abc" 返回正则表达式的字符串形式（不包括反斜杠），该属性只读。
```

## 3.正则表达式的`exec`方法
> `exec`方法可以返回匹配结果。如果发现匹配，就返回一个数组，成员是每一个匹配成功的子字符串，否则返回null。如果正则表示式包含圆括号（即含有“组匹配”），则返回的数组会包括多个成员。第一个成员是整个匹配成功的结果，后面的成员就是圆括号对应的匹配成功的组。也就是说，第二个成员对应第一个括号，第三个成员对应第二个括号，以此类推。整个数组的length属性等于组匹配的数量再加1。
- `input`：整个原字符串。
- `index`：整个模式匹配成功的开始位置（从0开始计数）。
```javascript
//exec方法
//exec匹配成功后返回数组的属性g修饰符
var r = /a(b+)a/g;
var arr = r.exec('_abbba_aba_');
console.log(arr); // ["abbba", "bbb"]
console.log(arr.index); // 1
console.log(arr.input); // "_abbba_aba_"

var arr = r.exec('_abbba_aba_');
console.log(arr); // ["aba", "b"]
console.log(arr.index); // 7
console.log(arr.input); // "_abbba_aba_"
```


